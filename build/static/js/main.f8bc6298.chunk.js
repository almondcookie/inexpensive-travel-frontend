(this["webpackJsonpinexpensive-travel-frontend"]=this["webpackJsonpinexpensive-travel-frontend"]||[]).push([[0],{38:function(e,t,n){},58:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(32),c=n.n(r),i=(n(38),n(11)),o=n.n(i),l=n(18),u=n(12),p=n(13),j=n(15),h=n(14),d=n(9),g=n.n(d),b=(n.p,n(58),n(5)),O=n(2),m=n(17),f=n(0),x=function(e){return console.log("At Profile and props is:"),console.log(e.thePlaces),Object(f.jsxs)("div",{children:[Object(f.jsxs)("h2",{children:["Happy Travels,  ",e.thePlaces.user.username]}),e.thePlaces.thePlaces.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)("h3",{children:e.cost})})}))]})},v=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).loginOnChange=function(e){e.preventDefault(),s.setState(Object(m.a)({},e.target.name,e.target.value))},s.state={username:"",password:""},s}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("form",{onSubmit:function(t){return e.props.login(t,e.state)},children:[Object(f.jsx)("input",{name:"username",type:"text",placeholder:"username",value:this.state.username,onChange:this.loginOnChange}),Object(f.jsx)("input",{name:"password",type:"password",placeholder:"password",value:this.state.password,onChange:this.loginOnChange}),Object(f.jsx)("input",{type:"submit",value:"Login"})]})}}]),n}(s.Component),w=function(){return Object(f.jsx)("h2",{children:"Profile2"})},P=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).signinOnChange=function(e){e.preventDefault(),s.setState(Object(m.a)({},e.target.name,e.target.value))},s.state={name:"",username:"",password:""},s}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("form",{onSubmit:function(t){return e.props.signin(t,e.state)},children:[Object(f.jsx)("input",{name:"name",type:"text",placeholder:"name",value:this.state.name,onChange:this.signinOnChange}),Object(f.jsx)("input",{name:"username",type:"text",placeholder:"username",value:this.state.username,onChange:this.signinOnChange}),Object(f.jsx)("input",{name:"password",type:"password",placeholder:"password",value:this.state.password,onChange:this.signinOnChange}),Object(f.jsx)("input",{type:"submit",value:"Signin"})]})}}]),n}(s.Component),C=function(e){return Object(f.jsx)("div",{className:"list-container",children:e.placeslist.map((function(e){return Object(f.jsx)("div",{className:"list-arrange",children:Object(f.jsx)("div",{className:"list-image-text-wrapper",children:Object(f.jsxs)(b.b,{to:"/placedetails/".concat(e.name),children:[Object(f.jsx)("img",{src:e.link,alt:"image"}),Object(f.jsx)("h2",{className:"list-image-text",children:e.name})]})})},e.id)}))})},y=function(){return Object(f.jsx)("h2",{children:"Place Details"})},I=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){s.getPlaces()},s.getPlaces=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("http://localhost:3001/places");case 2:t=e.sent,s.setState({thePlaces:t.data});case 4:case"end":return e.stop()}}),e)}))),s.login=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("user.username ".concat(n.username)),a={username:n.username,password:n.password},s.state.loggedIn=!1,s.state.signedIn=!1,console.log("before post ".concat(a.username)),e.next=8,g.a.post("http://localhost:3001/users/login",a);case 8:return r=e.sent,console.log("after post"),console.log("response.data: ".concat(r.data)),c=r.data.user,r&&(s.state.user.username=n.username,s.state.user.password=n.password),e.next=15,g.a.get("http://localhost:3001/users/profile/".concat(c));case 15:e.sent,s.props.history.push("/Profile/".concat(c));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.signin=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:n.name,username:n.username,password:n.password},console.log(a),s.state.signedIn=!1,s.state.loggedIn=!1,e.next=7,g.a.post("http://localhost:3001/users/signup",a);case 7:e.sent,s.props.history.push("/Profile2");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.state={user:{name:"",username:"",chosenPlaces:[],password:""},thePlaces:[],apiDataLoaded:!1,loggedIn:!0,signedIn:!0},s}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("h1",{children:"Welcome to Cheap Travel (non-tourist)"}),this.state.loggedIn&&Object(f.jsx)("nav",{children:Object(f.jsx)(b.b,{to:"/login",children:"Login"})}),Object(f.jsx)(O.a,{path:"/login",render:function(){return Object(f.jsx)(v,{login:e.login})}}),this.state.signedIn&&Object(f.jsx)("nav",{children:Object(f.jsx)(b.b,{to:"/signin",children:"Signin"})}),Object(f.jsx)(O.a,{path:"/signin",render:function(){return Object(f.jsx)(P,{signin:e.signin})}}),Object(f.jsx)("nav",{children:Object(f.jsx)(b.b,{to:"/placeslist",children:"Travel List"})}),Object(f.jsx)(O.a,{path:"/placeslist",render:function(){return Object(f.jsx)(C,{placeslist:e.state.thePlaces})}}),Object(f.jsx)(O.a,{path:"/placedetails/:name",render:function(){return Object(f.jsx)(y,{})}}),Object(f.jsx)(O.a,{path:"/Profile",render:function(){return Object(f.jsx)(x,{thePlaces:e.state})}}),Object(f.jsx)(O.a,{path:"/Profile2",render:function(){return Object(f.jsx)(w,{})}})]})}}]),n}(s.Component),k=Object(O.e)(I),S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))};c.a.render(Object(f.jsxs)(a.a.StrictMode,{children:[Object(f.jsx)(b.a,{children:Object(f.jsx)(k,{})}),"  "]}),document.getElementById("root")),S()}},[[65,1,2]]]);
//# sourceMappingURL=main.f8bc6298.chunk.js.map